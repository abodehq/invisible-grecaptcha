# invisible-grecaptcha

[![npm (scoped)](https://img.shields.io/npm/v/invisible-grecaptcha.svg)](https://www.npmjs.com/package/invisible-grecaptcha)
[![Travis](https://img.shields.io/travis/thiamsantos/invisible-grecaptcha.svg)](https://travis-ci.org/thiamsantos/invisible-grecaptcha)
[![Coveralls](https://img.shields.io/coveralls/thiamsantos/invisible-grecaptcha.svg)](https://coveralls.io/github/thiamsantos/invisible-grecaptcha?branch=master)
[![XO code style](https://img.shields.io/badge/code_style-XO-5ed9c7.svg)](https://github.com/sindresorhus/xo)

> Invisible reCAPTCHA integration

## Table of Contents

-   [Install](#install)
-   [Usage](#usage)
-   [API](#api)
-   [Contributing](#contributing)
-   [License](#license)

## Install

This project uses [node](http://nodejs.org) and [npm](https://npmjs.com).
Go check them out if you don't have them locally installed.

```sh
$ npm install --save invisible-grecaptcha
```

The [UMD](https://github.com/umdjs/umd) build is also available on [jsdelivr](https://www.jsdelivr.com/):

```html
<script src="https://cdn.jsdelivr.net/npm/invisible-grecaptcha/dist/index.min.js"></script>
```

You can find the library on `window.invisibleGrecaptcha`.

## Usage

```js
import {
  createInvisibleRecaptcha, 
  execute, 
  reset, 
  getResponse,
} from 'invisible-grecaptcha'

function verifyCallback(token) {
  console.log(token)
}

const grecaptcha = await createInvisibleRecaptcha({
  siteKey: 'RECAPTCHA_SITE_KEY',
  callback: verifyCallback
})

execute(grecaptcha)
reset(grecaptcha)
getResponse(grecaptcha)
```

## API

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

#### Table of Contents

-   [createInvisibleGrecaptcha](#createinvisiblegrecaptcha)
-   [execute](#execute)
-   [reset](#reset)
-   [getResponse](#getresponse)
-   [verifyCallback](#verifycallback)

### createInvisibleGrecaptcha

Create an invisible grecaptcha and returns the id of the capctha.

**Parameters**

-   `options` **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** The options to create a invisible recaptcha.
    -   `options.sitekey` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Your recaptcha sitekey.
    -   `options.callback` **[verifyCallback](#verifycallback)** Captcha callback.
    -   `options.locale` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** Language of the captcha. See available language codes <https://developers.google.com/recaptcha/docs/language>. Auto-detects the user's language if unspecified. (optional, default `null`)
    -   `options.position` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Position the reCAPTCHA badge. Values: bottomright, bottomleft and inline. (optional, default `bottomright`)
    -   `options.container` **[HTMLElement](https://developer.mozilla.org/docs/Web/HTML/Element)?** Container where the captcha will be renderedd. If none is provided a empty div will be create on the body. (optional, default `createContainer()`)

Returns **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** 

### execute

Programatically invoke the reCAPTCHA check.

**Parameters**

-   `recaptchaId` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** Captcha id.

### reset

Resets the reCAPTCHA widget.

**Parameters**

-   `recaptchaId` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** Captcha id.

### getResponse

Gets the response for the reCAPTCHA widget.

**Parameters**

-   `recaptchaId` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** Captcha id.

Returns **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** 

### verifyCallback

Callback to be executed when the user submits a successful CAPTCHA response.

Type: [Function](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function)

**Parameters**

-   `token` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Recaptcha token.

## Contributing

See the [contributing file](CONTRIBUTING.md).

## License

[MIT License](LICENSE.md) Â© [Thiago Santos](https://github.com/thiamsantos)
